<div class="pageheader">
	<h2><i class="fa fa-mortar-board"></i> Assign Users <span>Assign user roles and approve users here</span></h2>
</div>

<div class="contentpanel assign-users">
	<div class="panel panel-default">
		<table class="table table-striped">
			<thead>
				<tr>
					<th>User</th><!-- picture and email -->
					<th>Role</th>
					<th>Cohort</th>
          <th>Hired</th>
					<th class="text-center">Delete</th>
				</tr>
			</thead>
			<tbody infinite-scroll='nextUsers()' infinite-scroll-disabled='queryStatus.isBusy || queryStatus.isFinished' infinite-scroll-distance='0'>
        <tr ng-repeat="user in users">
          <td>
            <developer-card-small developer-data="user"></developer-card-small>
          </td>
          <td>
            <select class="input-sm" ng-model="user.role" ng-options="userRole for userRole in userRoles" ng-change="updateUser(user, 'role')">
            </select>
            <span ng-if="user.updateRoleSuccess" class="alert alert-success">update!</span>
            <span ng-if="user.updateRoleError" class="alert alert-danger">Failed! Try again</span>
          </td>
          <td>
            <select class="input-sm" ng-model="user.cohort" ng-options="cohort.name for cohort in cohorts track by cohort._id" ng-init="checkCohort(user, cohorts)" ng-change="updateUser(user, 'cohort')"></select>
            <span ng-if="user.updateCohortSuccess" class="alert alert-success">update!</span>
            <span ng-if="user.updateCohortError" class="alert alert-danger">Failed! Try again</span>
          </td>
          <td>
            <select class="input-sm" ng-model="user.hired" ng-options="hired for hired in hired" ng-change="updateUser(user, 'hired')"></select>
            <span ng-if="user.updateHiredSuccess" class="alert alert-success">update!</span>
            <span ng-if="user.updateHiredError" class="alert alert-danger">Failed! Try again</span>
          </td>
          <td class="text-center"><a href="javascript:void(0)" ng-click="deleteUser(user)"><i class="fa fa-trash-o"></i></a></td>
        </tr>
			</tbody>
		</table>
	</div>
</div>